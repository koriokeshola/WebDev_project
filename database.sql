drop table if exists order_item;
drop table if exists food_item;
drop table if exists payments;
drop table if exists menu;
drop table if exists orders;
drop table if exists users;


create table users
(    
	user_id INT AUTO_INCREMENT primary key,
	first_name VARCHAR(50),
	last_name VARCHAR(50),
	email VARCHAR(100),
    password VARCHAR(255) NOT NULL,
	role ENUM('admin', 'employee') DEFAULT 'admin',
	position VARCHAR(50),
	salary DECIMAL(10,2),
	hire_date DATE
);

create table orders
(
    order_id INT AUTO_INCREMENT PRIMARY KEY,
    item_name VARCHAR(100) NOT NULL,
    quantity INT NOT NULL,
    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP,
    user_id INT,
    order_date DATE,
    customer_id INT,
    FOREIGN KEY (user_id) references users(user_id)
);

create table menu
(	
    item_id INT AUTO_INCREMENT PRIMARY KEY,
    price DECIMAL(10,2) NOT NULL,
    item_name VARCHAR(100) NOT NULL,
    description TEXT,
    category ENUM('starter', 'main', 'dessert', 'drink'),
    is_available BOOLEAN DEFAULT true,
    start_date DATE,
    end_date DATE,
    food_id INT
);

create table payments
(	
	payment_id INT AUTO_INCREMENT PRIMARY KEY,
    customer_id INT,
    order_id INT,
    payment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    amount DECIMAL(10,2),
    payment_type VARCHAR(100),
    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP,
    FOREIGN KEY (order_id) references orders(order_id)
);

create table food_item
(	
	food_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100),
    quantity INT,
    unit_price DECIMAL(10,2),
    item_category VARCHAR(100)
);

create table order_item
(	
	order_item_id INT AUTO_INCREMENT PRIMARY KEY,
    order_id INT,
    food_id INT,
    quantity INT,
    unit_price DECIMAL(10,2),
    FOREIGN KEY(order_id) references orders(order_id),
    FOREIGN KEY(food_id) references food_item(food_id)
);


-- Values generated by ChatGPT
insert into users(user_id, first_name, last_name, email, password, role, position, salary, hire_date) values
(1, 'Admin', 'User', 'admin@example.com', 'adminpassword', 'admin', NULL, NULL, NULL),
(2, 'Jane', 'Doe', 'jane.doe@example.com', 'employee123', 'employee', 'Waitress', 25000.00, '2022-03-15'),
(3, 'Michael', 'Davis', 'michael.davis@example.com', 'employee123', 'employee', 'Chef', 32000.00, '2021-06-01'),
(4, 'Sarah', 'Smith', 'sarah.smith@example.com', 'employee123', 'employee', 'Bartender', 27000.00, '2023-05-11'),
(5, 'Emily', 'Jones', 'emily.jones@example.com', 'employee123', 'employee', NULL, NULL, NULL),
(6, 'Laura', 'Jones', 'laura.jones@example.com', 'employee123', 'employee', 'Waitress', 24000.00, '2021-09-02'),
(7, 'Tom', 'Williams', 'tom.williams@example.com', 'employee123', 'employee', 'Cook', 28000.00, '2022-07-08'),
(8, 'Paul', 'Walker', 'paul.walker@example.com', 'employee123', 'employee', 'Manager', 45000.00, '2020-12-10'),
(9, 'Bella', 'Thomas', 'bella.thomas@example.com', 'employee123', 'employee', 'Sous Chef', 35000.00, '2022-06-14'),
(10, 'David', 'Lee', 'david.lee@example.com', 'employee123', 'employee', 'Receptionist', 23000.00, '2023-01-16');

insert into food_item(name, quantity, unit_price, item_category) values
('Margherita Pizza', 50, 9.99, 'main'),
('Cheeseburger', 40, 11.49, 'main'),
('Caesar Salad', 30, 8.50, 'starter'),
('Chocolate Cake', 20, 6.00, 'dessert'),
('Orange Juice', 60, 3.20, 'drink'),
('Grilled Chicken', 35, 13.75, 'main'),
('Garlic Bread', 45, 4.25, 'starter'),
('Tiramisu', 25, 5.80, 'dessert'),
('Lemonade', 55, 2.99, 'drink'),
('Pasta Carbonara', 30, 12.90, 'main');

insert into menu(price, item_name, description, category, is_available, start_date, end_date, food_id) values
(9.99, 'Margherita Pizza', 'Classic pizza with mozzarella and tomato.', 'main', true, '2024-01-01', '2024-12-31', 1),
(11.49, 'Cheeseburger', 'Juicy beef burger with cheese.', 'main', true, '2024-01-01', '2024-12-31', 2),
(8.50, 'Caesar Salad', 'Crisp lettuce with Caesar dressing.', 'starter', true, '2024-01-01', '2024-12-31', 3),
(6.00, 'Chocolate Cake', 'Rich chocolate layered cake.', 'dessert', true, '2024-01-01', '2024-12-31', 4),
(3.20, 'Orange Juice', 'Freshly squeezed orange juice.', 'drink', true, '2024-01-01', '2024-12-31', 5),
(13.75, 'Grilled Chicken', 'Succulent grilled chicken breast.', 'main', true, '2024-01-01', '2024-12-31', 6),
(4.25, 'Garlic Bread', 'Buttery garlic breadsticks.', 'starter', true, '2024-01-01', '2024-12-31', 7),
(5.80, 'Tiramisu', 'Coffee-flavoured Italian dessert.', 'dessert', true, '2024-01-01', '2024-12-31', 8),
(2.99, 'Lemonade', 'Refreshing homemade lemonade.', 'drink', true, '2024-01-01', '2024-12-31', 9),
(12.90, 'Pasta Carbonara', 'Creamy pasta with bacon.', 'main', true, '2024-01-01', '2024-12-31', 10);

insert into orders(item_name, quantity, user_id, order_date, customer_id) values
('Margherita Pizza', 2, 1, '2024-04-01', 1),
('Cheeseburger', 1, 2, '2024-04-02', 2),
('Caesar Salad', 3, 3, '2024-04-03', 3),
('Chocolate Cake', 1, 4, '2024-04-04', 4),
('Orange Juice', 4, 5, '2024-04-05', 5),
('Grilled Chicken', 2, 6, '2024-04-06', 6),
('Garlic Bread', 5, 7, '2024-04-07', 7),
('Tiramisu', 2, 8, '2024-04-08', 8),
('Lemonade', 6, 9, '2024-04-09', 9),
('Pasta Carbonara', 1, 10, '2024-04-10', 10);

insert into order_item(order_id, food_id, quantity, unit_price) values
(1, 1, 2, 9.99),
(2, 2, 1, 11.49),
(3, 3, 3, 8.50),
(4, 4, 1, 6.00),
(5, 5, 4, 3.20),
(6, 6, 2, 13.75),
(7, 7, 5, 4.25),
(8, 8, 2, 5.80),
(9, 9, 6, 2.99),
(10, 10, 1, 12.90);

insert into payments(customer_id, order_id, amount, payment_type) values
(1, 1, 19.98, 'Card'),
(2, 2, 11.49, 'Cash'),
(3, 3, 25.50, 'Card'),
(4, 4, 6.00, 'Card'),
(5, 5, 12.80, 'Cash'),
(6, 6, 27.50, 'Card'),
(7, 7, 21.25, 'Cash'),
(8, 8, 11.60, 'Card'),
(9, 9, 17.94, 'Card'),
(10, 10, 12.90, 'Cash');

